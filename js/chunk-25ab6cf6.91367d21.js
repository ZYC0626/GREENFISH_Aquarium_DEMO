(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25ab6cf6"],{"1dde":function(t,e,c){var n=c("d039"),a=c("b622"),o=c("2d00"),l=a("species");t.exports=function(t){return o>=51||!n((function(){var e=[],c=e.constructor={};return c[l]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},5275:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),a=Object(n["h"])("div",{class:"loader-wrapper"},[Object(n["h"])("span",{class:"loader"})],-1),o=Object(n["h"])("section",null,[Object(n["h"])("div",{class:"container-fluid p-0"},[Object(n["h"])("div",{class:"landing bg-cover bg-center",style:{"background-image":"url(https://images.unsplash.com/photo-1550376672-6d778f8a4b5c?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1934&q=80)"}})])],-1),l={class:"container py-4 my-md-5"},s=Object(n["h"])("h2",{class:"text-center text-md-start"},"確認購物車明細",-1),i=Object(n["h"])("hr",null,null,-1),r={class:"row"},b={class:"col-md-8"},u={class:"table d-md-table d-none"},d=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",null,"品名"),Object(n["h"])("th",{width:"125px"},"數量"),Object(n["h"])("th",{class:"text-end"},"價格"),Object(n["h"])("th",{width:"25px"})])],-1),h={class:"align-middle"},j={class:"d-lg-flex align-items-center"},p={class:"align-middle"},O={class:"input-group input-group-sm"},f=["disabled","onClick"],m=["onUpdate:modelValue","onChange","disabled"],g=["disabled","onClick"],y={class:"align-middle"},v=["onClick"],x=Object(n["h"])("i",{class:"bi bi-x-circle"},null,-1),C=[x],k={key:0,colspan:"4",class:"text-center py-4"},w={class:"fw-600"},$=Object(n["h"])("td",{colspan:"2"},"總計 :",-1),A={class:"text-end"},_=Object(n["h"])("td",null,null,-1),I={key:0},q=Object(n["h"])("td",{class:"text-success",colspan:"2"},"折扣後 :",-1),L={class:"text-end text-success"},S=Object(n["h"])("td",null,null,-1),T={class:"table d-table d-md-none"},H=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",null,"品項"),Object(n["h"])("th",{class:"text-end"},"價格")])],-1),B={colspan:"2"},K={class:"d-flex justify-content-between border-bottom py-2"},U={class:"\r\n                      d-flex\r\n                      flex-column\r\n                      justify-content-around\r\n                      align-items-end\r\n                    "},M=["onClick"],N=Object(n["h"])("i",{class:"bi bi-x-lg"},null,-1),V=[N],z={class:"\r\n                    d-flex\r\n                    justify-content-between\r\n                    align-items-center\r\n                    border-bottom\r\n                    py-2\r\n                  "},D={class:"input-group input-group-sm w-50"},F=["disabled","onClick"],G=["onUpdate:modelValue","disabled","onChange"],E=["onClick","disabled"],J={class:"text-end"},R={key:0,colspan:"2",class:"text-center py-4"},W={class:"fw-600"},Y=Object(n["h"])("td",null,"總計 :",-1),P={class:"text-end"},Q={key:0},X=Object(n["h"])("td",{class:"text-success"},"折扣後 :",-1),Z={class:"text-end text-success"},tt=Object(n["h"])("i",{class:"bi bi-trash me-2"},null,-1),et=Object(n["j"])("清空購物車 "),ct=[tt,et],nt={key:1,class:"input-group mb-3 input-group-sm"},at={class:"input-group-append"},ot={class:"col d-flex mb-3"},lt=Object(n["h"])("i",{class:"bi bi-chevron-left"},null,-1),st=Object(n["j"])("繼續購物"),it=Object(n["j"])("建立訂單"),rt=Object(n["h"])("i",{class:"bi bi-chevron-right"},null,-1),bt=Object(n["h"])("div",{class:"col-md-4"},[Object(n["h"])("div",{class:"warning p-4",role:"alert"},[Object(n["h"])("h2",{class:"text-center my-4"},[Object(n["h"])("i",{class:"bi bi-exclamation-circle me-2"}),Object(n["j"])("注意")]),Object(n["h"])("p",null," 前往結帳前，請務必再次檢查購買的品項及數量是否正確，否則貨物一但寄出則不能再取消訂單。 "),Object(n["h"])("p",null," 為保障雙方權益，若對商品或運送有疑慮，煩請開啟包裝時請錄影存證，並主動聯繫並告知問題原因再請申請退貨。 "),Object(n["h"])("p",{class:"text-end"},"祝福你購物愉快！")])],-1);function ut(t,e,c,x,N,tt){var et=Object(n["H"])("Loading"),ut=Object(n["H"])("CouponInfo"),dt=Object(n["H"])("router-link");return Object(n["A"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(et,{active:N.isLoading},{default:Object(n["S"])((function(){return[a]})),_:1},8,["active"]),o,Object(n["k"])(ut),Object(n["h"])("div",l,[s,i,Object(n["h"])("div",r,[Object(n["h"])("div",b,[Object(n["h"])("table",u,[d,Object(n["h"])("tbody",null,[(Object(n["A"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(N.cart.carts,(function(e){return Object(n["A"])(),Object(n["g"])("tr",{key:e.id},[Object(n["h"])("td",h,[Object(n["h"])("div",j,[Object(n["h"])("div",{class:"bg-cover bg-center me-lg-4 mb-2 mb-lg-0 cart-img",style:Object(n["s"])({"background-image":"url("+e.product.imageUrl+")"})},null,4),Object(n["h"])("span",null,Object(n["K"])(e.product.title),1)])]),Object(n["h"])("td",p,[Object(n["h"])("div",O,[Object(n["h"])("button",{class:"btn btn-primary",type:"button",id:"btn-minus",disabled:1===e.qty||N.status.loadingItem===e.id,onClick:function(t){return tt.countButton(e,-1)}}," - ",8,f),Object(n["T"])(Object(n["h"])("input",{type:"number",class:"form-control",placeholder:"",min:"1","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return tt.updateCart(e)},disabled:N.status.loadingItem===e.id},null,40,m),[[n["O"],e.qty]]),Object(n["h"])("button",{class:"btn btn-primary",type:"button",id:"btn-add",disabled:N.status.loadingItem===e.id,onClick:function(t){return tt.countButton(e,1)}}," + ",8,g)])]),Object(n["h"])("td",{class:Object(n["r"])(["text-end align-middle",{"text-success":N.cart.final_total!==N.cart.total}])},"NT$ "+Object(n["K"])(t.$filters.currency(e.final_total)),3),Object(n["h"])("td",y,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-danger border-0 btn-sm",onClick:function(t){return tt.delCart(e)}},C,8,v)])])})),128)),Object(n["h"])("tr",null,[N.cart.total?Object(n["f"])("",!0):(Object(n["A"])(),Object(n["g"])("td",k," 購物車尚無明細 "))])]),Object(n["h"])("tfoot",w,[Object(n["h"])("tr",null,[$,Object(n["h"])("td",A,"NT$ "+Object(n["K"])(t.$filters.currency(N.cart.total)),1),_]),N.cart.final_total!==N.cart.total?(Object(n["A"])(),Object(n["g"])("tr",I,[q,Object(n["h"])("td",L,"NT$ "+Object(n["K"])(t.$filters.currency(N.cart.final_total)),1),S])):Object(n["f"])("",!0)])]),Object(n["h"])("table",T,[H,Object(n["h"])("tbody",null,[(Object(n["A"])(!0),Object(n["g"])(n["a"],null,Object(n["F"])(N.cart.carts,(function(e){return Object(n["A"])(),Object(n["g"])("tr",{key:e.id},[Object(n["h"])("td",B,[Object(n["h"])("div",K,[Object(n["h"])("div",{class:"bg-cover bg-center cart-img",style:Object(n["s"])({"background-image":"url("+e.product.imageUrl+")"})},null,4),Object(n["h"])("div",U,[Object(n["h"])("button",{type:"button",class:"btn btn-danger border-0 btn-sm",onClick:function(t){return tt.delCart(e)}},V,8,M),Object(n["h"])("h4",null,Object(n["K"])(e.product.title),1)])]),Object(n["h"])("div",z,[Object(n["h"])("div",D,[Object(n["h"])("button",{class:"btn btn-primary",type:"button",id:"btn-minus",disabled:1===e.qty||N.status.loadingItem===e.id,onClick:function(t){return tt.countButton(e,-1)}}," - ",8,F),Object(n["T"])(Object(n["h"])("input",{type:"number",class:"form-control",placeholder:"","onUpdate:modelValue":function(t){return e.qty=t},min:"1",disabled:N.status.loadingItem===e.id,onChange:function(t){return tt.updateCart(e)}},null,40,G),[[n["O"],e.qty]]),Object(n["h"])("button",{class:"btn btn-primary",type:"button",id:"btn-add",onClick:function(t){return tt.countButton(e,1)},disabled:N.status.loadingItem===e.id}," + ",8,E)]),Object(n["h"])("span",J,"NT$ "+Object(n["K"])(t.$filters.currency(e.final_total)),1)])])])})),128)),Object(n["h"])("tr",null,[N.cart.total?Object(n["f"])("",!0):(Object(n["A"])(),Object(n["g"])("td",R," 購物車尚無明細 "))])]),Object(n["h"])("tfoot",W,[Object(n["h"])("tr",null,[Y,Object(n["h"])("td",P,"NT$ "+Object(n["K"])(t.$filters.currency(N.cart.total)),1)]),N.cart.final_total!==N.cart.total?(Object(n["A"])(),Object(n["g"])("tr",Q,[X,Object(n["h"])("td",Z,"NT$ "+Object(n["K"])(t.$filters.currency(N.cart.final_total)),1)])):Object(n["f"])("",!0)])]),N.cart.total?(Object(n["A"])(),Object(n["g"])("button",{key:0,type:"button",class:"btn btn-outline-danger my-3",onClick:e[0]||(e[0]=function(t){return tt.delCart(0)})},ct)):Object(n["f"])("",!0),N.cart.total?(Object(n["A"])(),Object(n["g"])("div",nt,[Object(n["T"])(Object(n["h"])("input",{type:"text",class:"form-control",placeholder:"請輸入優惠碼","onUpdate:modelValue":e[1]||(e[1]=function(t){return N.coupon_code=t})},null,512),[[n["O"],N.coupon_code]]),Object(n["h"])("div",at,[Object(n["h"])("button",{class:"btn btn-outline-secondary",type:"button",onClick:e[2]||(e[2]=function(){return tt.addCouponCode&&tt.addCouponCode.apply(tt,arguments)})}," 套用優惠碼 ")])])):Object(n["f"])("",!0),Object(n["h"])("div",ot,[Object(n["k"])(dt,{to:"/products/all",class:"btn btn-secondary me-auto"},{default:Object(n["S"])((function(){return[lt,st]})),_:1}),N.cart.total?(Object(n["A"])(),Object(n["e"])(dt,{key:0,to:"/checkoutInfo",class:"btn btn-primary"},{default:Object(n["S"])((function(){return[it,rt]})),_:1})):Object(n["f"])("",!0)])]),bt])])],64)}c("99af");var dt=c("d888"),ht={components:{CouponInfo:dt["a"]},data:function(){return{isLoading:!1,status:{loadingItem:""},cart:[],coupon_code:""}},inject:["emitter"],methods:{getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("zyc0626-api","/cart");this.isLoading=!0,this.$http.get(e).then((function(e){t.isLoading=!1,t.cart=e.data.data,t.emitter.emit("updatecart")})).catch((function(t){console.log(t)}))},countButton:function(t,e){t.qty+=e,this.updateCart(t)},updateCart:function(t){var e=this;t.qty||(t.qty=1);var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("zyc0626-api","/cart/").concat(t.id);this.status.loadingItem=t.id,this.isLoading=!0;var n={product_id:t.product_id,qty:t.qty};this.$http.put(c,{data:n}).then((function(t){t.data.success&&e.getCart(),e.isLoading=!1,e.status.loadingItem="",e.$httpMessageState(t,"修改商品數量")})).catch((function(t){console.log(t)}))},delCart:function(t){var e=this,c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("zyc0626-api","/cart/").concat(t.id);t||(c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("zyc0626-api","/carts")),this.isLoading=!0,this.$http.delete(c).then((function(t){e.$httpMessageState(t,"從購物車移除"),e.isLoading=!1,e.getCart()})).catch((function(t){console.log(t)}))},addCouponCode:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("zyc0626-api","/coupon");this.isLoading=!0;var c={code:this.coupon_code};this.$http.post(e,{data:c}).then((function(e){t.$httpMessageState(e,"套用優惠碼"),t.isLoading=!1,t.getCart()})).catch((function(t){console.log(t)}))}},created:function(){this.getCart()}};ht.render=ut;e["default"]=ht},8418:function(t,e,c){"use strict";var n=c("a04b"),a=c("9bf2"),o=c("5c6c");t.exports=function(t,e,c){var l=n(e);l in t?a.f(t,l,o(0,c)):t[l]=c}},"99af":function(t,e,c){"use strict";var n=c("23e7"),a=c("d039"),o=c("e8b5"),l=c("861d"),s=c("7b0b"),i=c("50c4"),r=c("8418"),b=c("65f0"),u=c("1dde"),d=c("b622"),h=c("2d00"),j=d("isConcatSpreadable"),p=9007199254740991,O="Maximum allowed index exceeded",f=h>=51||!a((function(){var t=[];return t[j]=!1,t.concat()[0]!==t})),m=u("concat"),g=function(t){if(!l(t))return!1;var e=t[j];return void 0!==e?!!e:o(t)},y=!f||!m;n({target:"Array",proto:!0,forced:y},{concat:function(t){var e,c,n,a,o,l=s(this),u=b(l,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(o=-1===e?l:arguments[e],g(o)){if(a=i(o.length),d+a>p)throw TypeError(O);for(c=0;c<a;c++,d++)c in o&&r(u,d,o[c])}else{if(d>=p)throw TypeError(O);r(u,d++,o)}return u.length=d,u}})},d888:function(t,e,c){"use strict";var n=c("7a23"),a={class:"pt-5 bg-white"},o={class:"container"},l={class:"row g-0 align-items-center flex-row-reverse"},s={class:"col-md-6 text-md-start px-md-4 p-0 text-center"},i=Object(n["h"])("h2",null,"歡慶開幕",-1),r=Object(n["h"])("hr",null,null,-1),b=Object(n["h"])("p",null,[Object(n["j"])(" 開幕優惠，即日起輸入優惠碼 "),Object(n["h"])("span",{class:"fs-4 fw-bolder"}," GFISH88"),Object(n["j"])(" 享全館商品打 "),Object(n["h"])("span",{class:"fs-4"},"88"),Object(n["j"])(" 折 ")],-1),u={key:0},d=Object(n["h"])("i",{class:"bi bi-clipboard-check me-2"},null,-1),h=Object(n["h"])("span",null,"複製成功 !",-1),j=[d,h],p={key:1},O=Object(n["h"])("i",{class:"bi bi-clipboard me-2"},null,-1),f=Object(n["h"])("span",null,"複製優惠碼",-1),m=[O,f],g=Object(n["i"])('<div class="col-md-6 text-md-end ps-md-4 p-0 text-center"><div class="ticket mt-3"><span class="ticket-text">優惠碼</span><span class="mx-3 ticket-dash"></span><span class="ticket-text">GFISH88</span></div></div>',1);function y(t,e,c,d,h,O){return Object(n["A"])(),Object(n["g"])("section",a,[Object(n["h"])("div",o,[Object(n["h"])("div",l,[Object(n["h"])("div",s,[i,r,b,Object(n["h"])("a",{class:"ticket-copy mx-auto mx-md-0",href:"#",onClick:e[0]||(e[0]=Object(n["U"])((function(){return O.copyCoupon&&O.copyCoupon.apply(O,arguments)}),["prevent"]))},[h.copyDone?(Object(n["A"])(),Object(n["g"])("span",u,j)):(Object(n["A"])(),Object(n["g"])("span",p,m))])]),g])])])}var v={data:function(){return{copyDone:!1}},methods:{copyCoupon:function(){var t=document.createElement("input"),e="GFISH88";document.body.appendChild(t),t.value=e,t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t),this.copyDone=!0}}};v.render=y;e["a"]=v}}]);
//# sourceMappingURL=chunk-25ab6cf6.91367d21.js.map